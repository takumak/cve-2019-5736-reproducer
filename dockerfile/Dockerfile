FROM ubuntu:18.04
ENV TZ=Asia/Tokyo
ENV DEBIAN_FRONTEND="noninteractive"
RUN apt-get update
RUN apt-get install -y tzdata
RUN apt-get install -y dpkg-dev git

# docker.io
RUN apt-get install -y bash-completion cmake debhelper dh-apparmor dh-exec golang-any libapparmor-dev btrfs-progs libdevmapper-dev libseccomp-dev libsystemd-dev

# runc
RUN apt-get install -y dh-golang go-md2man protobuf-compiler

RUN mkdir /src
RUN git -C /src clone https://git.launchpad.net/ubuntu/+source/docker.io
RUN git -C /src clone https://git.launchpad.net/ubuntu/+source/runc
RUN git -C /src clone https://git.launchpad.net/ubuntu/+source/containerd
